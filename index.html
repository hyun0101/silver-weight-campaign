<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì‹¤ë²„ ì›¨ì´íŠ¸ ì„±ì í‘œ</title>

  <!-- ê²°ê³¼ ì €ì¥ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    body {
      font-family: 'Pretendard', sans-serif;
      background: linear-gradient(135deg, #d7dbe2, #f4f6f8);
      text-align: center;
      padding: 40px 20px;
      color: #333;
    }
    .card {
      background: linear-gradient(145deg, #ffffff, #e6e9ef);
      border-radius: 20px;
      padding: 30px;
      max-width: 420px;
      margin: auto;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      border: 1px solid #d0d3d8;
    }
    h1 { font-size: 22px; margin-bottom: 10px; }
    input {
      padding: 12px;
      width: 80%;
      border-radius: 10px;
      border: 1px solid #bbb;
      margin: 15px 0;
      font-size: 16px;
      text-align: center;
    }
    button {
      background: linear-gradient(90deg, #cfd2d6, #b8bcc2);
      border: none;
      padding: 12px 20px;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
      margin: 6px;
    }
    .result {
      margin-top: 25px;
      text-align: left;
      font-size: 15px;
      line-height: 1.6;
    }
    .highlight { font-weight: bold; color: #222; }
    .forest {
      text-align: center;
      font-size: 40px;
      margin-top: 15px;
    }
    hr { margin: 15px 0; border: none; border-top: 1px solid #ccc; }
  </style>
</head>
<body>

  <div class="card" id="captureArea">
    <h1>ğŸ“˜ ì‹¤ë²„ ì›¨ì´íŠ¸ ì„±ì í‘œ</h1>
    <p>ë²„ë¦° êµì¬ì™€ ì‹œí—˜ì§€ì˜ ë¬´ê²Œë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>

    <input type="number" id="weight" placeholder="ì˜ˆ: 3.2 (kg)" step="0.1" />
    <br/>
    <button onclick="generateResult()">ì„±ì í‘œ í™•ì¸í•˜ê¸°</button>

    <div class="result" id="resultBox"></div>
  </div>

  <br>
  <button onclick="saveImage()">ğŸ“¸ ê²°ê³¼ í™”ë©´ ì €ì¥í•˜ê¸°</button>

  <script>
    function generateResult() {
      const weight = document.getElementById("weight").value;
      const weightNum = parseFloat(weight);

      if (!weightNum || weightNum <= 0) {
        alert("ë¬´ê²Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }

      const treesSaved = (weightNum * 0.02).toFixed(2);
      const co2Reduced = (weightNum * 1.5).toFixed(1);

      let forestHTML = "";
      if (weight.includes("9.9")) {
        forestHTML = `<div class="forest">ğŸŒ²ğŸŒ³ğŸŒ²<br><b>ìˆ²ì„ ë§Œë“  ë‹¹ì‹ , 9.90ì˜ ê¸°ì !</b></div>`;
      }

      document.getElementById("resultBox").innerHTML = `
        <p>ğŸ“¦ ë‹¹ì‹ ì´ ë¹„ì›Œë‚¸ ë¬´ê²Œ: <span class="highlight">${weightNum}kg</span></p>
        <p>ğŸŒ³ í™˜ê²½ ê¸°ì—¬ë„: ë‚˜ë¬´ <span class="highlight">${treesSaved}ê·¸ë£¨</span> ë³´í˜¸ íš¨ê³¼</p>
        <p>ğŸŒ íƒ„ì†Œ ì ˆê° íš¨ê³¼: ì•½ <span class="highlight">${co2Reduced}kg</span> COâ‚‚ ê°ì†Œ</p>
        ${forestHTML}
        <hr/>
        <p>ğŸ’¬ ì‹œí—˜ ì‘ì› ë©”ì‹œì§€</p>
        <p class="highlight">
          "ë‹¹ì‹ ì˜ ë…¸ë ¥ì´ ê°€ì§„ ë¬´ê²Œê°€ ì˜¤ëŠ˜ì€ í™˜ê²½ì„ ì‚´ë¦¬ê³ ,<br>
          ë‚´ì¼ì€ ë‹¹ì‹ ì„ ì•ìœ¼ë¡œ ë‚˜ì•„ê°€ê²Œ í•©ë‹ˆë‹¤.<br>
          í† ìµì„ ì¤€ë¹„í•œ ëª¨ë“  ì‹œê°„ì„ ì‘ì›í•©ë‹ˆë‹¤."
        </p>
        <hr/>
        <p>ğŸ’š ë‹¹ì‹ ì˜ ì‹¤ì²œì´ ìì›ìˆœí™˜ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.<br>
        í™˜ê²½ ë³´í˜¸ì— í•¨ê»˜í•´ì¤˜ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</p>
      `;
    }

    function saveImage() {
      html2canvas(document.querySelector("#captureArea")).then(canvas => {
        const link = document.createElement("a");
        link.download = "silver-weight-score.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }
  </script>

</body>
</html>
